(()=>{"use strict";var t=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};let n={};function e(e){return t(this,void 0,void 0,(function*(){n=yield function(n){return t(this,void 0,void 0,(function*(){try{const t=yield fetch(`/static/localization/locales/${n}.json`);if(!t.ok)throw new Error(`failed to load translations for ${n}`);return t.json()}catch(t){return console.error("error loading translations:",t),{}}}))}(e)}))}function i(){return t(this,void 0,void 0,(function*(){const t="undefined"!=typeof navigator?navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||"en-US":"en-US";yield e(t)}))}function o(e){return t(this,void 0,void 0,(function*(){return n[e]?n[e]:(console.warn(`translation key ${e} not found`),e)}))}const r="main-root-content",a="create-lobby-btn",c="join-lobby-btn";class u{constructor(t){const n=document.getElementById(t);if(!n)throw new Error(`container with id ${t} not found`);const e=document.createElement("div");e.id="main-root-header",n.appendChild(e);const i=document.createElement("div");i.id=r,n.appendChild(i);const o=document.createElement("div");o.id="main-root-footer",n.appendChild(o)}}var d=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};class s{constructor(t,n,e){const i=document.getElementById(t);if(!i)throw new Error(`container with id ${t} not found`);this.titleHeading=document.createElement("h1"),i.append(this.titleHeading),this.createLobbyButton=document.createElement("button"),this.createLobbyButton.id=a,i.append(this.createLobbyButton),this.joinLobbyButton=document.createElement("button"),this.joinLobbyButton.id=c,i.append(this.joinLobbyButton),this.onCreateLobby=n,this.onJoinLobby=e,this.renderLocalizedTexts(),this.createLobbyButton.addEventListener("click",(()=>{this.onCreateLobby()})),this.joinLobbyButton.addEventListener("click",(()=>{this.onJoinLobby()}))}renderLocalizedTexts(){return d(this,void 0,void 0,(function*(){this.titleHeading.textContent=yield o("Welcome"),this.createLobbyButton.textContent=yield o("Create Lobby"),this.joinLobbyButton.textContent=yield o("Join Lobby")}))}}var l=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};class h{constructor(t,n){if(this.container=document.getElementById(t),!this.container)throw new Error(`container with id ${t} not found`);this.container.innerHTML="",this.titleHeading=document.createElement("h1"),this.container.append(this.titleHeading),this.playerNameInput=document.createElement("input"),this.playerNameInput.id="player-name-input",this.container.appendChild(this.playerNameInput),this.createButton=document.createElement("button"),this.createButton.id=a,this.container.appendChild(this.createButton),this.onCreate=n,this.renderLocalizedTexts(),this.createButton.addEventListener("click",(()=>{const t=this.playerNameInput.value;t?(this.onCreate(t),this.playerNameInput.value=""):this.showAlert(o("Please enter a player name"))}))}showAlert(t){return l(this,void 0,void 0,(function*(){try{const n=yield t;alert(n)}catch(t){console.error("Error getting text:",t),alert("An error occurred.")}}))}renderLocalizedTexts(){return l(this,void 0,void 0,(function*(){this.titleHeading.textContent=yield o("Create Lobby"),this.playerNameInput.placeholder=yield o("Enter player name"),this.createButton.textContent=yield o("Create")}))}}var y=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};class p{constructor(t,n,e){if(this.container=document.getElementById(t),!this.container)throw new Error(`container with id ${t} not found`);this.container.innerHTML="",this.titleHeading=document.createElement("h1"),this.container.append(this.titleHeading),this.player1Input=document.createElement("input"),this.player1Input.id="player-1-name-input",this.container.append(this.player1Input),this.player2Input=document.createElement("input"),this.player1Input.id="player-2-name-input",this.container.append(this.player2Input),this.createGameButton=document.createElement("button"),this.createGameButton.id="creat-game-btn",this.container.append(this.createGameButton),this.lobbyId=n,this.onCreateGame=e,this.renderLocalizedTexts(),this.createGameButton.addEventListener("click",(()=>{const t=this.player1Input.value,n=this.player2Input.value;t&&n?t==n?this.showAlert(o("Player name should not be the same")):this.onCreateGame(t,n):this.showAlert(o("Two players are needed"))}))}showAlert(t){return y(this,void 0,void 0,(function*(){try{const n=yield t;alert(n)}catch(t){console.error("Error getting text:",t),alert("An unknown error occured")}}))}renderLocalizedTexts(){return y(this,void 0,void 0,(function*(){this.titleHeading.textContent=`${yield o("Lobby")} ${this.lobbyId}`,this.player1Input.placeholder=yield o("Enter player 1"),this.player2Input.placeholder=yield o("Enter player 2"),this.createGameButton.textContent=yield o("Create Game")}))}}var f=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};class m{constructor(t,n){if(this.container=document.getElementById(t),!this.container)throw new Error(`container with id ${t} not found`);this.container.innerHTML="",this.titleHeading=document.createElement("h1"),this.container.appendChild(this.titleHeading),this.gameId=n,this.renderLocalizedTexts()}renderLocalizedTexts(){return f(this,void 0,void 0,(function*(){this.titleHeading.textContent=yield o("Game")}))}}function v(t){return new p(r,t,((t,n)=>{!function(t){new m(r,t)}("1")}))}var b=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};function w(){return new h(r,(t=>b(this,void 0,void 0,(function*(){try{v(yield new Promise(((t,n)=>{t("1")})))}catch(t){console.log("An error occurred:",t)}}))))}var g=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};class E{constructor(t,n){const e=document.getElementById(t);if(!e)throw new Error(`container with id ${t} not found`);e.innerHTML="",this.titleHeading=document.createElement("h1"),e.appendChild(this.titleHeading),this.lobbyIdInput=document.createElement("input"),this.lobbyIdInput.id="lobby-id-input",e.appendChild(this.lobbyIdInput),this.joinButton=document.createElement("button"),this.joinButton.id=c,e.appendChild(this.joinButton),this.onJoin=n,this.renderLocalizedTexts(),this.joinButton.addEventListener("click",(()=>{const t=this.lobbyIdInput.value;t?this.onJoin(t):this.showAlert(o("Please enter lobby id"))}))}showAlert(t){return g(this,void 0,void 0,(function*(){try{const n=yield t;alert(n)}catch(t){console.error("Error getting text:",t),alert("An error occurred.")}}))}renderLocalizedTexts(){return g(this,void 0,void 0,(function*(){this.titleHeading.textContent=yield o("Join Lobby"),this.lobbyIdInput.placeholder=yield o("Enter lobby id"),this.joinButton.textContent=yield o("Join")}))}}function x(){return new E(r,(t=>{v(t)}))}var L=function(t,n,e,i){return new(e||(e=Promise))((function(o,r){function a(t){try{u(i.next(t))}catch(t){r(t)}}function c(t){try{u(i.throw(t))}catch(t){r(t)}}function u(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,c)}u((i=i.apply(t,n||[])).next())}))};!function(){L(this,void 0,void 0,(function*(){yield i(),new u("main-root"),new s(r,w,x)}))}()})();